{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["let currentExerciseId = null;\nlet selectedCategory = null;\nlet currentPage = 1;\nlet totalPages = 1;\n\nconst QUOTE_URL = 'https://your-energy.b.goit.study/api/quote';\n\nasync function fetchQuote() {\n  try {\n    const response = await fetch(QUOTE_URL);\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch quote');\n    }\n\n    const data = await response.json();\n    renderQuote(data);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfetchQuote();\n\nfunction renderQuote(data) {\n  const quoteElement = document.querySelector('.quote-text');\n  const authorElement = document.querySelector('.quote-author');\n  quoteElement.textContent = data.quote;\n  authorElement.textContent = `-${data.author}`;\n}\n\nlet activeFilter = 'Muscles';\n\nconst filtersEl = document.querySelector('.filters');\n\nfiltersEl.addEventListener('click', event => {\n  const button = event.target.closest('.filter-tab');\n  if (!button) return;\n\n  activeFilter = button.dataset.filter;\n  updateActiveTab();\n\n  fetchFilters(activeFilter);\n});\n\nfunction updateActiveTab() {\n  const tabs = document.querySelectorAll('.filter-tab');\n\n  tabs.forEach(tab => {\n    const isActive = tab.dataset.filter === activeFilter;\n    tab.classList.toggle('is-active', isActive);\n  });\n}\n\nconst FILTERS_URL = 'https://your-energy.b.goit.study/api/filters';\n\nasync function fetchFilters(filterName) {\n  try {\n    const response = await fetch(`${FILTERS_URL}?filter=${filterName}`);\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch filters');\n    }\n\n    const data = await response.json();\n\n    renderFilters(data.results);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n\nfunction renderFilters(items) {\n  const container = document.querySelector('.filters-content');\n  if (!container) return;\n\n  if (!Array.isArray(items)) {\n    console.error('renderFilters expected array, got:', items);\n    return;\n  }\n\n  container.innerHTML = items\n    .map(\n      item => `\n        <button \n          class=\"filter-item\" \n          data-filter=\"${item.filter}\"\n          data-value=\"${item.name}\"\n        >\n          ${capitalizeFirstLetter(item.name)}\n        </button>\n      `\n    )\n    .join('');\n}\n\n\n\nfetchFilters(activeFilter);\n\nconst filtersContentEl = document.querySelector('.filters-content');\n\nfiltersContentEl.addEventListener('click', event => {\n  const button = event.target.closest('.filter-item');\n  if (!button) return;\n\n  const value = button.dataset.value;\n  selectedCategory = button.dataset.value;\n  fetchExercisesByCategory(activeFilter, value);\n});\n\n\nconst EXERCISES_URL = 'https://your-energy.b.goit.study/api/exercises';\n\nasync function fetchExercisesByCategory(filterType, value, page = 1) {\n  try {\n    currentPage = page;\n\n    const params = new URLSearchParams({\n      page,\n      limit: 6,\n    });\n\n    if (filterType === 'Muscles') {\n      params.append('muscles', value);\n    }\n\n    if (filterType === 'Body parts') {\n      params.append('bodypart', value);\n    }\n\n    if (filterType === 'Equipment') {\n      params.append('equipment', value);\n    }\n\n    const response = await fetch(\n      `${EXERCISES_URL}?${params.toString()}`\n    );\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch exercises');\n    }\n\n    const data = await response.json();\n\n    totalPages = data.totalPages;\n\n    renderExercises(data.results);\n    renderPagination();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// function renderStars(rating) {\n//   const fullStars = Math.round(rating);\n//   const maxStars = 5;\n\n//   return Array.from({ length: maxStars }, (_, index) => {\n//     return `\n//       <span class=\"star ${index < fullStars ? 'star-filled' : ''}\">\n//         ★\n//       </span>\n//     `;\n//   }).join('');\n// }\n\n\n\nfunction renderExercises(items) {\n  const list = document.querySelector('.exercises-list');\n  if (!list) return;\n\n  list.innerHTML = items\n    .map(\n      item => `\n<li class=\"exercise-card\">\n  <div class=\"exercise-card__header\">\n    <div class=\"exercise-card__meta\">\n      <span class=\"exercise-card__badge\">WORKOUT</span>\n      <span class=\"exercise-card__rating\">\n        ${item.rating.toFixed(1)}\n        <span class=\"exercise-card__star\">★</span>\n      </span>\n    </div>\n\n    <button class=\"exercise-card__start start-btn\" data-id=\"${item._id}\">\n      Start →\n    </button>\n  </div>\n\n  <h3 class=\"exercise-card__title\">${capitalizeFirstLetter(item.name)}</h3>\n\n  <p class=\"exercise-card__info\">\n    Burned calories: ${item.burnedCalories} / ${item.time} min ·\n    Body part: ${item.bodyPart} ·\n    Target: ${item.target}\n  </p>\n</li>\n      `\n    )\n    .join('');\n}\n\n\n\n\nconst exercisesListEl = document.querySelector('.exercises-list');\nconst modalEl = document.querySelector('.modal');\n\nexercisesListEl.addEventListener('click', event => {\n  const button = event.target.closest('.start-btn');\n  if (!button) return;\n\n  const exerciseId = button.dataset.id;\n  fetchExerciseById(exerciseId);\n});\n\nasync function fetchExerciseById(id) {\n  try {\n    currentExerciseId = id;\n    const response = await fetch(\n      `https://your-energy.b.goit.study/api/exercises/${id}`\n    );\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch exercise');\n    }\n\n    const data = await response.json();\n    renderExerciseModal(data);\n    openModal();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n\n\nfunction renderExerciseModal(item) {\n  const img = modalEl.querySelector('.modal-gif');\n  img.src = item.gifUrl;\n  img.alt = item.name;\n\n  modalEl.querySelector('.modal-title').textContent = capitalizeFirstLetter(item.name) || item.name;\n  modalEl.querySelector('.modal-description').textContent =\n    capitalizeFirstLetter(item.description) || item.description;\n\n  modalEl.querySelector('.modal-bodypart').textContent =\n    capitalizeFirstLetter(item.bodyPart) || item.bodyPart;\n\n  modalEl.querySelector('.modal-equipment').textContent =\n    capitalizeFirstLetter(item.equipment) || item.equipment;\n  modalEl.querySelector('.modal-calories').textContent =\n  item.burnedCalories;\n\n  modalEl.querySelector('.modal-target').textContent =\n    capitalizeFirstLetter(item.target) || item.target;\n  modalEl.querySelector('.modal-popularity').textContent =\n    item.popularity;\n  modalEl.querySelector('.modal-time').textContent =\n  `${item.time} min`;\n\n  modalEl.querySelector('.modal-rating').innerHTML = `\n  <span class=\"modal__rating-value\">${item.rating.toFixed(1)}</span>\n  <div class=\"modal__stars\">\n    ${renderStars(item.rating)}\n  </div>\n`;\n}\n\nfunction renderStars(rating) {\n  const rounded = Math.round(rating);\n\n  return Array.from({ length: 5 }, (_, i) =>\n    `<span class=\"modal__star ${i < rounded ? 'is-active' : ''}\">★</span>`\n  ).join('');\n}\n\n\nfunction openModal() {\n  modalEl.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n  modalEl.classList.add('is-hidden');\n  document.body.style.overflow = '';\n}\n\n\nmodalEl.addEventListener('click', e => {\n  if (\n    e.target.classList.contains('modal__backdrop') ||\n    e.target.classList.contains('modal__close')\n  ) {\n    closeModal();\n  }\n});\n\n\n\n\nasync function sendExerciseRating(id, ratingData) {\n  try {\n    const response = await fetch(\n      `https://your-energy.b.goit.study/api/exercises/${id}/rating`,\n      {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(ratingData),\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error('Failed to send rating');\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nconst ratingForm = document.querySelector('.rating-form');\n\nratingForm.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const formData = new FormData(event.target);\n\n  const payload = {\n    rate: Number(formData.get('rate')),\n    email: formData.get('email'),\n    review: formData.get('review') || '',\n  };\n\n  const updatedExercise = await sendExerciseRating(\n    currentExerciseId,\n    payload\n  );\n\n  if (updatedExercise) {\n    // оновлюємо рейтинг у модалці\n    modalEl.querySelector('.modal-rating').textContent =\n      updatedExercise.rating;\n\n    event.target.reset();\n  }\n});\n\nfunction capitalizeFirstLetter(value) {\n  if (!value) return '';\n  return value.charAt(0).toUpperCase() + value.slice(1);\n}\n\nconst searchForm = document.querySelector('.search-form');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const formData = new FormData(event.target);\n  const keyword = formData.get('keyword').trim();\n\n  if (!keyword) return;\n\n  fetchExercisesByKeyword(keyword);\n});\n\nasync function fetchExercisesByKeyword(keyword, page = 1) {\n  if (!selectedCategory) return;\n\n  try {\n    currentPage = page;\n\n    const params = new URLSearchParams({\n      keyword,\n      page,\n      limit: 6,\n    });\n\n    if (activeFilter === 'Muscles') {\n      params.append('muscles', selectedCategory);\n    }\n\n    if (activeFilter === 'Body parts') {\n      params.append('bodypart', selectedCategory);\n    }\n\n    if (activeFilter === 'Equipment') {\n      params.append('equipment', selectedCategory);\n    }\n\n    const response = await fetch(\n      `${EXERCISES_URL}?${params.toString()}`\n    );\n\n    if (response.status === 409) {\n      renderExercises([]);\n      renderPagination(0);\n      return;\n    }\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch exercises by keyword');\n    }\n\n    const data = await response.json();\n\n    totalPages = data.totalPages;\n\n    renderExercises(data.results);\n    renderPagination(keyword);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction renderPagination(keyword = null) {\n  const list = document.querySelector('.pagination-list');\n  if (!list) return;\n\n  if (totalPages <= 1) {\n    list.innerHTML = '';\n    return;\n  }\n\n  list.innerHTML = Array.from(\n    { length: totalPages },\n    (_, index) => {\n      const page = index + 1;\n      return `\n        <li>\n          <button \n            class=\"pagination-btn ${page === currentPage ? 'is-active' : ''}\"\n            data-page=\"${page}\"\n            ${page === currentPage ? 'disabled' : ''}\n          >\n            ${page}\n          </button>\n        </li>\n      `;\n    }\n  ).join('');\n}\n\nconst paginationEl = document.querySelector('.pagination-list');\n\npaginationEl.addEventListener('click', event => {\n  const button = event.target.closest('.pagination-btn');\n  if (!button) return;\n\n  const page = Number(button.dataset.page);\n\n  if (searchForm.keyword?.value) {\n    fetchExercisesByKeyword(searchForm.keyword.value, page);\n  } else {\n    fetchExercisesByCategory(activeFilter, selectedCategory, page);\n  }\n});\n\n\n\n\n"],"names":["currentExerciseId","selectedCategory","currentPage","totalPages","QUOTE_URL","fetchQuote","response","data","renderQuote","error","quoteElement","authorElement","activeFilter","filtersEl","event","button","updateActiveTab","fetchFilters","tab","isActive","FILTERS_URL","filterName","renderFilters","items","container","item","capitalizeFirstLetter","filtersContentEl","value","fetchExercisesByCategory","EXERCISES_URL","filterType","page","params","renderExercises","renderPagination","list","exercisesListEl","modalEl","exerciseId","fetchExerciseById","id","renderExerciseModal","openModal","img","renderStars","rating","rounded","_","i","closeModal","sendExerciseRating","ratingData","ratingForm","formData","payload","updatedExercise","searchForm","keyword","fetchExercisesByKeyword","index","paginationEl","_a"],"mappings":"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"}