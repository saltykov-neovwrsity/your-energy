/* empty css                      */(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();let g=null,c=null,l=1,u=1;const E="https://your-energy.b.goit.study/api/quote";async function q(){try{const t=await fetch(E);if(!t.ok)throw new Error("Failed to fetch quote");const e=await t.json();S(e)}catch(t){console.error(t)}}q();function S(t){const e=document.querySelector(".quote-text"),r=document.querySelector(".quote-author");e.textContent=t.quote,r.textContent=`-${t.author}`}let i="Muscles";const x=document.querySelector(".filters");x.addEventListener("click",t=>{const e=t.target.closest(".filter-tab");e&&(i=e.dataset.filter,L(),m(i))});function L(){document.querySelectorAll(".filter-tab").forEach(e=>{const r=e.dataset.filter===i;e.classList.toggle("is-active",r)})}const $="https://your-energy.b.goit.study/api/filters";async function m(t){try{const e=await fetch(`${$}?filter=${t}`);if(!e.ok)throw new Error("Failed to fetch filters");const r=await e.json();v(r.results)}catch(e){console.error(e)}}function v(t){const e=document.querySelector(".filters-content");if(e){if(!Array.isArray(t)){console.error("renderFilters expected array, got:",t);return}e.innerHTML=t.map(r=>`
        <button 
          class="filter-item" 
          data-filter="${r.filter}"
          data-value="${r.name}"
        >
          ${r.name}
        </button>
      `).join("")}}m(i);const F=document.querySelector(".filters-content");F.addEventListener("click",t=>{const e=t.target.closest(".filter-item");if(!e)return;const r=e.dataset.value;c=e.dataset.value,w(i,r)});const h="https://your-energy.b.goit.study/api/exercises";async function w(t,e,r=1){try{l=r;const n=new URLSearchParams({page:r,limit:6});t==="Muscles"&&n.append("muscles",e),t==="Body parts"&&n.append("bodypart",e),t==="Equipment"&&n.append("equipment",e);const o=await fetch(`${h}?${n.toString()}`);if(!o.ok)throw new Error("Failed to fetch exercises");const s=await o.json();u=s.totalPages,f(s.results),p()}catch(n){console.error(n)}}function f(t){const e=document.querySelector(".exercises-list");e&&(e.innerHTML=t.map(r=>`
        <li class="exercise-card">
          <img src="${r.gifUrl}" alt="${r.name}" width="200" />
          <h3>${r.name}</h3>
          <p>Target: ${r.target}</p>
          <p>Rating: ${r.rating}</p>
          <button class="start-btn" data-id="${r._id}">
            Start
          </button>
        </li>
      `).join(""))}const C=document.querySelector(".exercises-list"),a=document.querySelector(".modal");C.addEventListener("click",t=>{const e=t.target.closest(".start-btn");if(!e)return;const r=e.dataset.id;P(r)});async function P(t){try{g=t;const e=await fetch(`https://your-energy.b.goit.study/api/exercises/${t}`);if(!e.ok)throw new Error("Failed to fetch exercise");const r=await e.json();k(r),M()}catch(e){console.error(e)}}function k(t){a.querySelector(".modal-gif").src=t.gifUrl,a.querySelector(".modal-gif").alt=t.name,a.querySelector(".modal-title").textContent=t.name,a.querySelector(".modal-description").textContent=t.description,a.querySelector(".modal-bodypart").textContent=t.bodyPart,a.querySelector(".modal-equipment").textContent=t.equipment,a.querySelector(".modal-target").textContent=t.target,a.querySelector(".modal-rating").textContent=t.rating}function M(){a.classList.remove("is-hidden")}function j(){a.classList.add("is-hidden")}a.addEventListener("click",t=>{(t.target.classList.contains("modal")||t.target.classList.contains("modal-close"))&&j()});async function R(t,e){try{const r=await fetch(`https://your-energy.b.goit.study/api/exercises/${t}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw new Error("Failed to send rating");return await r.json()}catch(r){console.error(r)}}const A=document.querySelector(".rating-form");A.addEventListener("submit",async t=>{t.preventDefault();const e=new FormData(t.target),r={rate:Number(e.get("rate")),email:e.get("email"),review:e.get("review")||""},n=await R(g,r);n&&(a.querySelector(".modal-rating").textContent=n.rating,t.target.reset())});const y=document.querySelector(".search-form");y.addEventListener("submit",t=>{t.preventDefault();const r=new FormData(t.target).get("keyword").trim();r&&b(r)});async function b(t,e=1){if(c)try{l=e;const r=new URLSearchParams({keyword:t,page:e,limit:6});i==="Muscles"&&r.append("muscles",c),i==="Body parts"&&r.append("bodypart",c),i==="Equipment"&&r.append("equipment",c);const n=await fetch(`${h}?${r.toString()}`);if(n.status===409){f([]),p(0);return}if(!n.ok)throw new Error("Failed to fetch exercises by keyword");const o=await n.json();u=o.totalPages,f(o.results),p(t)}catch(r){console.error(r)}}function p(t=null){const e=document.querySelector(".pagination-list");if(e){if(u<=1){e.innerHTML="";return}e.innerHTML=Array.from({length:u},(r,n)=>{const o=n+1;return`
        <li>
          <button 
            class="pagination-btn ${o===l?"is-active":""}"
            data-page="${o}"
            ${o===l?"disabled":""}
          >
            ${o}
          </button>
        </li>
      `}).join("")}}const O=document.querySelector(".pagination-list");O.addEventListener("click",t=>{var n;const e=t.target.closest(".pagination-btn");if(!e)return;const r=Number(e.dataset.page);(n=y.keyword)!=null&&n.value?b(y.keyword.value,r):w(i,c,r)});
//# sourceMappingURL=index.js.map
